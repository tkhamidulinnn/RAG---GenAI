┌──────────────────────────────────────────────────────────────────────┐
│ [UI] Developer                                                        │
│                                                                      │
│ 1. Opens or updates a Pull Request (PR)                               │
│ 2. Manually applies ONE label to control automation:                  │
│    - readme:init   → initialize baseline README                       │
│    - readme:facts  → update README with verified facts                │
└───────────────────────────────────┬──────────────────────────────────┘
                                    │
                                    ▼
┌──────────────────────────────────────────────────────────────────────┐
│ [GH] GitHub Repository                                                │
│                                                                      │
│  - Pull Request (labels, branch, changed files)                       │
│  - Codebase (source code, configs, manifests)                         │
│  - README.md (may exist or may be missing)                            │
│  - GitHub workflows (.github/workflows/*.yml)                         │
└───────────────────────────────────┬──────────────────────────────────┘
                                    │   (GitHub label event)
                                    ▼
┌──────────────────────────────────────────────────────────────────────┐
│ [GHA] GitHub Actions                                                  │
│                                                                      │
│  Label-based routing:                                                 │
│   - Label = readme:init   → Workflow A (Bootstrap README)             │
│   - Label = readme:facts  → Workflow B (Facts-only Update)            │
│                                                                      │
│  ❗ No automation runs without an explicit label                      │
└───────────────────────────────┬───────────────────────────────┬──────┘
                                │                               │
                                ▼                               ▼
                  ┌──────────────────────────┐     ┌──────────────────────────┐
                  │ Workflow A: readme:init  │     │ Workflow B: readme:facts │
                  │                          │     │                          │
                  │ - One-time initialization│     │ - Recurring PR updates  │
                  │ - Uses LLM               │     │ - Deterministic scripts │
                  │ - Creates baseline README│     │ - Facts + scoring gates │
                  └───────────────┬──────────┘     └───────────────┬──────────┘
                                  │                                │
                                  ▼                                ▼
┌──────────────────────────────────────────┐        ┌──────────────────────────────────────────┐
│ [OUT] Baseline README (PR / commit)      │        │ [OUT] Facts-only README Update (PR)      │
│  - Human narrative (immutable)           │        │  - Only README_AGENT sections updated   │
│  - Golden structure                      │        │  - No narrative changes                 │
│  - Agent-owned zones inserted            │        │  - PR created only if gates pass        │
└──────────────────────────────────────────┘        └──────────────────────────────────────────┘
